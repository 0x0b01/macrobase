<table cellpadding="10" width="100%">
    <tr>
        <td>
            <b> Metric: </b>
            <select [(ngModel)]="selectedMetric">
                <option *ngFor="let possibleMetric of possibleMetrics"
                        [value] = "possibleMetric">
                    {{possibleMetric}}
                </option>
            </select>
            <br> <br>

            <b> Query Type: </b>
            <select [(ngModel)]="queryType">
                <option *ngFor="let possibleType of possibleTypes"
                        [value] = "possibleType">
                    {{possibleType}}
                </option>
            </select>
            <br> <br>

            <b> Percentile: </b>
            <input [(ngModel)]="percentile">
            <br> <br>

            <b> Support: </b>
            <input [(ngModel)]="minSupport"
            style="margin-right: 20px">
            <br> <br>

            <b> Risk Ratio: </b>
            <input [(ngModel)]="minRatioMetric">
        </td>

        <td>
            <b> Attributes: </b>
            <ul>
                <input type="checkbox" (change)="updateAll()" [(ngModel)]="checkAll"> Select All
                <br>
                <li *ngFor="let possibleAttribute of possibleAttributes">
                    <input type="checkbox"
                    (change)="updateAttribute(possibleAttribute)"
                    [checked]="checkAttribute(possibleAttribute)">
                    {{possibleAttribute}}
                </li>
            </ul>
        </td>
    </tr>
</table>

<br>
<div style="padding-left: 10px">
    <b> SQL: </b> &nbsp;
    SELECT * FROM
    (SPLIT (
    SELECT *, percentile(<i>{{selectedMetric}}</i>) as percentile from {{tableName}})
    WHERE percentile > <i>{{percentile}}</i>)
    ON <i>{{attributeString}}</i>
    WITH MIN SUPPORT <i>{{minSupport}}</i> MIN RATIO <i>{{minRatioMetric}}</i>;
</div>

<br>
<div style="text-align:center;">
    <button class="submitButton" (click)="runQuery()"> Run Query </button>
</div>
<br>